<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Add a Sighting</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
          rel="stylesheet"
          integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
          crossorigin="anonymous">
    <link rel="stylesheet" th:href="@{https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css}"><link rel="stylesheet" th:href="@{https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css}">
    <link rel="stylesheet" th:href="@{/css/style.css}">
    <!-- jquery cdns for autocomplete field -->
    <script src="https://code.jquery.com/jquery-3.6.1.js" integrity="sha256-3zlB5s2uwoUzrXK3BT7AX3FyvojsraNFxCc2vC/7pNI=" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/ui/1.13.2/jquery-ui.js" integrity="sha256-xLD7nhI62fcsEZK2/v8LsBcb4lG7dgULkuXoXB/j91c=" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.13.2/themes/base/jquery-ui.css">

    <script defer type="text/javascript">
    console.log("hi");
        $(function() {
            $("#speciesCommonName").autocomplete({
                source: "speciesNameAutocomplete",
                minLength: 3
            });
        });
    </script>
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <div class="container-fluid">
        <a class="navbar-brand" th:href="@{/index}"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="24" fill="white" class="bi bi-binoculars-fill" viewBox="0 0 16 16"><path d="M4.5 1A1.5 1.5 0 0 0 3 2.5V3h4v-.5A1.5 1.5 0 0 0 5.5 1h-1zM7 4v1h2V4h4v.882a.5.5 0 0 0 .276.447l.895.447A1.5 1.5 0 0 1 15 7.118V13H9v-1.5a.5.5 0 0 1 .146-.354l.854-.853V9.5a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5v.793l.854.853A.5.5 0 0 1 7 11.5V13H1V7.118a1.5 1.5 0 0 1 .83-1.342l.894-.447A.5.5 0 0 0 3 4.882V4h4zM1 14v.5A1.5 1.5 0 0 0 2.5 16h3A1.5 1.5 0 0 0 7 14.5V14H1zm8 0v.5a1.5 1.5 0 0 0 1.5 1.5h3a1.5 1.5 0 0 0 1.5-1.5V14H9zm4-11H9v-.5A1.5 1.5 0 0 1 10.5 1h1A1.5 1.5 0 0 1 13 2.5V3z"/>
        </svg>My Nature Notebook Worldwide</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                <li class="nav-item">
                    <a class="nav-link active" aria-current="page" th:href="@{/register}">Register</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link active" aria-current="page" th:href="@{/login}">Login</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link active" aria-current="page" th:href="@{/addSighting}">Add a Sighting</a>
                </li>
            </ul>
        </div>
    </div>
</nav>

<br /><br /><br />
<div class="container">
    <div class="row col-md-8 offset-md-2">
        <div class="card-header">
            <h2 class="text-center">Add a Sighting</h2>



        <!-- partial:index.partial.html -->
<div class="wrap">
            <form action="#" th:action="@{/addSighting/save}" th:object="${sighting}" method="post">
                <div class="form-header">
                    <h3>Sighting Information</h3>
                </div>
                <div th:if="${param.success}">
                    <div class="alert alert-info">
                        You have successfully added a sighting!
                    </div>
                </div>
                <div class="card-body">
                    <form
                            method="post"
                            role="form"
                            th:action="@{/addSighting/save}"
                            th:object="${sighting}"
                    >
                        <div class="form-group mb-3">
                            <label class="form-label">Species name</label>
                            <input
                                    class="form-control"
                                    id="speciesCommonName"
                                    name="speciesCommonName"
                                    placeholder="Enter Common Name"
                                    th:field="*{speciesCommonName}"
                                    type="text"
                            />
                            <p th:errors = "*{speciesCommonName}" class="text-danger"
                               th:if="${#fields.hasErrors('speciesCommonName')}"></p>
                        </div>

                        <div class="form-group mb-3">
                            <label class="form-label">Scientific Name</label>
                            <input
                                    class="form-control"
                                    id="speciesScientificName"
                                    name="speciesScientificName"
                                    placeholder="Enter Scientific Name (if known)"
                                    th:field="*{speciesScientificName}"
                                    type="text"
                            />
                            <p th:errors = "*{speciesScientificName}" class="text-danger"
                               th:if="${#fields.hasErrors('speciesScientificName')}"></p>
                        </div>

                        <div class="form-group mb-3">
                            <label for="continent">Continent</label>
                            <select id="continent" name="continent" required>
                                <option value="name">Select Continent</option>
                                <option th:each="continent : ${T(be.avivaCode.MyNatureNotebookWorldwide.data.Sighting.Continent).values()}"
                                        th:value="${continent}"
                                        th:text="${continent.displayValue}"
                                        th:field="*{continent}">
                                </option>
                            </select>
                            <p th:errors = "*{continent}" class="text-danger"
                               th:if="${#fields.hasErrors('continent')}"></p>
                        </div>

                        <div class="form-group mb-3">
                            <label for="country">Country</label>
                            <select id="country" name="country" required>
                                <option value="name">Select Country</option>
                                <option th:each="country : ${countryList}"
                                        th:value="${country}"
                                        th:text="${country}"
                                        th:field="*{country}">
                                </option>
                            </select>
                            <p th:errors = "*{country}" class="text-danger"
                               th:if="${#fields.hasErrors('country')}"></p>
                        </div>

                        <div class="form-group mb-3">
                            <label class="form-label">Location</label>
                            <input
                                    class="form-control"
                                    id="location"
                                    name="location"
                                    placeholder="Optional location: ex. region, town, park"
                                    th:field="*{location}"
                                    type="text"
                            />
                            <p th:errors = "*{location}" class="text-danger"
                               th:if="${#fields.hasErrors('location')}"></p>
                        </div>
                        <div class="form-group mb-3">
                            <label class="form-label">Time of Sighting</label>
                            <input
                                    class="form-control"
                                    id="timeOfSighting"
                                    name="timeOfSighting"
                                    placeholder=""
                                    th:field="*{timeOfSighting}"
                                    type="datetime-local"
                            />
                            <p th:errors = "*{timeOfSighting}" class="text-danger"
                               th:if="${#fields.hasErrors('timeOfSighting')}"></p>
                        </div>
                        <div class="form-group mb-3">
                            <label class="form-label">Quantity</label>
                            <input
                                    class="form-control"
                                    id="quantity"
                                    name="quantity"
                                    placeholder=""
                                    th:field="*{quantity}"
                                    type="number"
                            />
                            <p th:errors = "*{quantity}" class="text-danger"
                               th:if="${#fields.hasErrors('quantity')}"></p>
                        </div>
                        <div class="form-group mb-3">
                            <label class="form-label">Notes</label>
                            <textarea
                                    class="form-control"
                                    id="notes"
                                    name="notes"
                                    placeholder=""
                                    th:field="*{notes}"
                                    type="text"
                            />
                            <p th:errors = "*{notes}" class="text-danger"
                               th:if="${#fields.hasErrors('notes')}"></p>
                        </div>
                        <fieldset class="box"><legend><i class="fa fa-paw"></i> Extra info for Animals </legend>
                            <div class="form-group mb-3">
                                <label for="taxonomicClass">Taxonomic Class</label>
                                <select id="taxonomicClass">
                                    <option value="taxonomicClass">Select One</option>
                                    <option th:each="taxonomicClass : ${T(be.avivaCode.MyNatureNotebookWorldwide.data.Sighting.TaxonomicClass).values()}"
                                            th:value="${taxonomicClass}"
                                            th:text="${taxonomicClass.displayValue}"
                                            th:field="*{taxonomicClass}">
                                    </option>
                                </select>
                                <p th:errors = "*{taxonomicClass}" class="text-danger"
                                   th:if="${#fields.hasErrors('taxonomicClass')}"></p>
                            </div>
                            <div class="form-group mb-3">
                                <label for="sex">Sex</label>
                                <select id="sex">
                                    <option value="name">Select one</option>
                                    <option th:each="sex : ${T(be.avivaCode.MyNatureNotebookWorldwide.data.Sighting.Sex).values()}"
                                            th:value="${sex}"
                                            th:text="${sex.displayValue}"
                                            th:field="*{sex}">
                                    </option>
                                </select>
                                <p th:errors = "*{sex}" class="text-danger"
                                   th:if="${#fields.hasErrors('sex')}"></p>
                            </div><div class="form-group mb-3">
                                <label for="lifeStage">Life Stage</label>
                                <select id="lifeStage">
                                    <option value="name">Select One</option>
                                    <option th:each="lifeStage : ${T(be.avivaCode.MyNatureNotebookWorldwide.data.Sighting.LifeStage).values()}"
                                            th:value="${lifeStage}"
                                            th:text="${lifeStage.displayValue}"
                                            th:field="*{lifeStage}">
                                    </option>
                                </select>
                                <p th:errors = "*{lifeStage}" class="text-danger"
                                   th:if="${#fields.hasErrors('lifeStage')}"></p>
                            </div>

                            <div class="form-group mb-3">
                                <label class="form-label">Behaviour</label>
                                <textarea
                                        class="form-control"
                                        id="behaviour"
                                        name="behaviour"
                                        placeholder=""
                                        th:field="*{behaviour}"
                                        type="text"
                                />
                                <p th:errors = "*{behaviour}" class="text-danger"
                                   th:if="${#fields.hasErrors('behaviour')}"></p>
                            </div>

                            <div class="sub-opt">
                                <label class="form-label">Deceased</label>
                                <input type="checkbox"
                                        id="deceased"
                                        name="options"
                                        th:field="*{deceased}"
                                />
                                <p th:errors = "*{deceased}" class="text-danger"
                                   th:if="${#fields.hasErrors('deceased')}"></p>
                            </div>
                        </fieldset>
                        <fieldset class="sub-opts">
                            <legend><i class="fa fa-check"></i> Other options </legend>
                            <div class="sub-opt">
                                <label class="sub-label" for="lifer">   Mark as "lifer"
                                    <i title="If this is your first time seeing this species you can say it's a 'lifer'.'."class="fa fa-question-circle" style="font-size:24px;color:blue"></i></label>

                                <input type="checkbox"
                                       id="lifer"
                                       name="options"
                                       th:field="*{lifer}"
                                />
                                <p th:errors = "*{lifer}" class="text-danger"
                                   th:if="${#fields.hasErrors('lifer')}"></p>
                            </div>
                            <div class="sub-opt">
                                <label class="sub-label" for="locationHidden"> Hide location <i title="If the species is vulnerable or endangered, you may want to hide the exact location to keep disturbance to a minimum."class="fa fa-question-circle" style="font-size:24px;color:blue"></i></label>
                            <input type="checkbox"
                                   id="locationHidden"
                                   name="options"
                                   th:field="*{locationHidden}"
                            />
                            <p th:errors = "*{locationHidden}" class="text-danger"
                               th:if="${#fields.hasErrors('locationHidden')}"></p>
                        </div><div class="sub-opt">
                            <label class="sub-label" for="keepPrivate"> Keep private <i title="This will make the sighting visible only to you."class="fa fa-question-circle" style="font-size:24px;color:blue"></i></label>
                            <input type="checkbox"
                                   id="keepPrivate"
                                   name="options"
                                   th:field="*{keepPrivate}"
                            />
                            <p th:errors = "*{keepPrivate}" class="text-danger"
                               th:if="${#fields.hasErrors('keepPrivate')}"></p>
                        </div>

                        </fieldset>
                        <div class="form-group">
                            <button class="btn btn-primary" type="submit">Submit</button>
                        </div>
                    </form>
                </div>
            </form></div>
        </div>
    </div>


</div>
<script src="javascript.js"></script>
<!--        <div class="form-body">
            <fieldset>
                <legend><i class="fa fa-leaf"></i> Sighting Information</legend>
                    <p>Species: (one required)
                        <label for="speciesCommonName">Common Name</label>
                        <input type="text" id="speciesCommonName" name="speciesCommonName" th:field="*{speciesCommonName}"></p><br>
                    <label for="speciesScientificName">or Scientific Name</label>
                    <input type="text" id="speciesScientificName" name="speciesScientificName" th:field="*{speciesScientificName}"></p><br>
                    <label for="plantHeight">Height in cms (plants only)</label>
                    <input type="number" step=".5" min="0" id="plantHeight" name="plantHeight" th:field="*{plantHeight}" ><br><br>
                <label for="continent">Continent</label>
                <select id="continent" name="continent" required>
                    <option value="name">Select Continent</option>
                    <option th:each="continent : ${T(be.avivaCode.MyNatureNotebookWorldwide.data.Sighting.Continent).values()}"
                            th:value="${continent}"
                            th:text="${continent.displayValue}"
                            th:field="*{continent}">
                    </option>
                </select><br>
                <label for="country">Country</label>
                <select id="country" name="country" required>
                    <select class="form-control" th:field="${countryList}"  id="dropOperator">
                    <option value="name">Select Country</option>
                    <option   th:each="country : ${countryList}"th:value="${country}" th:text="${country}" th:field="*{country}"></option>
                    </select>
                </select><br>
                <label for="location">Location</label>
                <input type="text" id="location" name="location" th:field="*{location}"><br>
                <label for="timeOfSighting">Time/Date of Sighting</label>
                <input type="datetime-local" id="timeOfSighting" name="timeOfSighting" th:field="*{timeOfSighting}" placeholder="Required">
                <br>
                <label for="quantity">Quantity</label>
                <input type="number" id="quantity" name="quantity" th:field="*{quantity}" ></br>
                <div th:object="${species.plant}">
                <label for="plantSize">Size (plants only)</label>
                <input type="number" step="2" id="plantSize" name="plantSize" th:field="*{plantSize}" ><br><br>
                </div>
                <label for="notes">Notes</label><br>
                <textarea type="notes" id="notes" name="notes" th:field="*{notes}" ></textarea><br>
            </fieldset><br>
            <fieldset><legend><i class="fa fa-paw"></i> Extra info for Animals </legend>
                    <label for="taxonomicClass">Taxonomic Class</label>
                    <select id="taxonomicClass" name="taxonomicClass" >
                        <option value="name">Select one</option>
                        <option th:each="taxonomicClass : ${T(be.avivaCode.MyNatureNotebookWorldwide.data.Sighting.TaxonomicClass).values()}"
                                th:value="${taxonomicClass}"
                                th:text="${taxonomicClass.displayValue}"
                                th:field="*{taxonomicClass}">
                        </option>
                    </select><br>
                    <label for="sex">Sex</label>
                    <select id="sex" name="sex" th:field="*{sex}" >
                        <option value="name">Select one</option>
                        <option th:each="sex : ${T(be.avivaCode.MyNatureNotebookWorldwide.data.Sighting.Sex).values()}"
                                th:value="${sex}"
                                th:text="${sex.displayValue}"
                                th:field="*{sex}">
                        </option>
                    </select><br>
                    <label for="lifeStage">Life Stage</label>
                    <select id="lifeStage" name="lifeStage">
                        <option value="name">Select one</option>
                        <option th:each="lifeStage : ${T(be.avivaCode.MyNatureNotebookWorldwide.data.Sighting.LifeStage).values()}"
                                th:value="${lifeStage}"
                                th:text="${lifeStage.displayValue}"
                                th:field="*{lifeStage}">
                        </option>
                    </select><br><br>
                    <label for="behaviour">Behaviour </label><br>
                    <textarea id="behaviour" name="behaviour" th:field="*{behaviour}"></textarea><br>
                <div class="sub-opt">
                    <input type="checkbox" name="options" th:value="${deceased}" id="deceased" th:field="*{deceased}">
                         <label class="sub-label" for="deceased"> Deceased </label>
                     </div>
            </fieldset><br>
            <fieldset class="sub-opts">
                <legend><i class="fa fa-check"></i> Other options </legend>
                <div class="sub-opt">
                    <input type="checkbox" name="options" th:value="${lifer}" id="lifer"th:field="*{lifer}">
                    <label class="sub-label" for="lifer">   Mark as "lifer"
                        <i title="If this is your first time seeing this species you can say it's a 'lifer'.'."class="fa fa-question-circle" style="font-size:24px;color:blue"></i></label>
                </div><br>
                <div class="sub-opt">
                <input type="checkbox" name="options" th:value="${locationHidden}" id="locationHidden" th:field="*{locationHidden}">

                    <label class="sub-label" for="locationHidden"> Hide location <i title="If the species is vulnerable or endangered, you may want to hide the exact location to keep disturbance to a minimum."class="fa fa-question-circle" style="font-size:24px;color:blue"></i></label>
                </div><br>
                <div class="sub-opt">
                <input type="checkbox" name="options" th:value="${keepPrivate}" id="keepPrivate" th:field="*{keepPrivate}">
                    <label class="sub-label" for="keepPrivate"> Keep private <i title="This will make the sighting visible only to you."class="fa fa-question-circle" style="font-size:24px;color:blue"></i></label>
                </div>
            </fieldset>
        </div>
        <div class="form-footer">
            <input type="submit" value="Submit">
        </div>
    </form>
</div>-->
<!-- partial -->
</body>
</html>


<!--<div class="form-group blu-margin">
    <select class="form-control" th:field="${countryList}"  id="dropOperator">
        <option value="name">select country</option>
        <option   th:each="country : ${countryList}"th:value="${country}" th:text="${country}"></option>
    </select>-->

<!--</div>
<form role="form" method="post" th:action="@{/addSighting}" th:object="${sighting}">

    <div class="form-group">
        <label for="user">User</label>
        <input type="text" th:field = "*{user}" class="form-control" id="user">
    </div>


    <div class="form-group">
        <label for="species">Species</label>
        <input type="text" th:field = "*{species.commonName}"class="form-control" id="species" placeholder="Required">
    </div>

    within species Common name/scientific name taken from ITIS terms
    depending on Kingdom: Animal - taxonomic class, life stage, sex, behaviour, deceased;
    Plant - size

    <div class="form-group">
        <label for="continent">Continent</label>
            <select name="continent">
                <option th:each="continent : ${T(be.avivaCode.natureNotebookIntl.data.Sighting.Continent).values()}"
                        th:value="${continent}" th:text="${continent}" id="continent"></option>
            </select>
    </div>


    <div class="form-group">
        <select class="form-control" th:field="${countryList}"  id="dropOperator">
            <option value="country">select country</option>
            <option   th:each="country : ${countryList}"th:value="${countryList}" th:text="${countryList}"></option>
        </select></div>

    <div class="form-group">
        <label for="location">Location</label>
        <input type="text" th:field = "*{location}" class="form-control" id="location">
    </div>

    <div class="form-group">
        <label for="timeOfSighting">Time of sighting</label>
        <input type="datetime-local" th:field = "*{timeOfSighting}"class="form-control" id="timeOfSighting" placeholder="Required">
    </div>

    <div class="form-group">
        <label for="quantity">Quantity</label>
        <input type="number" th:field = "*{quantity}" class="form-control" id="quantity">
    </div>

    <div class="form-group">
        <label for="notes">Notes</label>
        <textarea type="text" th:field = "*{notes}" class="form-control" id="notes"></textarea>
    </div>

    <div class="form-group">
        <label for="isLifer">Lifer</label>
        <input type="checkbox" th:field = "*{isLifer}" class="form-control" id="isLifer">
    </div>

    <div class="form-check form-switch">
        <label class="form-check-label" for="isLocationHidden">Location hidden</label>
        <input class="form-check-input" type="checkbox" role="switch" th:field = "*{isLocationHidden}"id="isLocationHidden">
    </div>

    <div class="form-check form-switch">
        <label class="form-check-label" for="isPrivate">Keep sighting private</label>
        <input class="form-check-input" type="checkbox" role="switch" th:field = "*{isPrivate}"id="isPrivate">
    </div>




    <button type="submit" class="btn btn-outline-success">Sign Up</button>

</form>

</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3" crossorigin="anonymous"></script>
</body>
</html>-->